<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PureRules</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<!-- Navigation -->
<div id="nav-include"></div>

<div class="header">
  <h1>PureRules</h1>
  <p>Java rules engine for deterministic and probabilistic logic, designed for clarity and extensibility.</p>
</div>

<div class="card" id="getting-started">
  <h2>Getting Started</h2>
  <ul>
    <li>Read the <a href="https://github.com/sneakytowelsuit/PureRules#readme" target="_blank">README</a> for installation and usage.</li>
    <li>Integrate with your Java project via Gradle or Maven.</li>
    <li>Explore the <a href="#features">features</a> below.</li>
  </ul>
</div>

<div class="card" id="features">
  <h2>Features</h2>
  <ul>
    <li>Deterministic and probabilistic rule evaluation</li>
    <li>Composable rule groups and operators</li>
    <li>Extensible operator system</li>
    <li>Serialization and deserialization support</li>
    <li>Well-tested and production-ready</li>
  </ul>
</div>

<div class="card" id="usage">
  <h2>Usage Example</h2>
  <pre style="background:#f4f4f4;border:2px solid #222;padding:1em;border-radius:0.5em;overflow-x:auto;font-size:0.95em;">
import com.github.sneakytowelsuit.purerules.engine.Rule;
import com.github.sneakytowelsuit.purerules.engine.RuleGroup;
import com.github.sneakytowelsuit.purerules.operators.EqualsOperator;
import com.github.sneakytowelsuit.purerules.operators.GreaterThanOperator;

// Create rules
Rule ageRule = new Rule("age", new GreaterThanOperator(), 18);
Rule countryRule = new Rule("country", new EqualsOperator(), "US");

// Group rules (AND logic by default)
RuleGroup group = new RuleGroup(List.of(ageRule, countryRule));

// Evaluate against input data
Map<String, Object> input = Map.of("age", 25, "country", "US");
boolean result = group.evaluate(input); // true
  </pre>
</div>

<!-- Code sample area for class documentation -->
<div id="class-sample-container" class="card" style="display:none;">
  <div id="class-sample-title"></div>
  <pre id="class-sample"></pre>
</div>

<div class="footer">
  &copy; 2025 PureRules &bull; <a href="https://github.com/sneakytowelsuit/PureRules" target="_blank">GitHub</a>
</div>

<!-- Sidebar toggle button (mobile only) -->
<button id="sidebar-toggle" aria-label="Open navigation" style="display:none;">&#9776;</button>
<div id="sidebar-overlay"></div>
<!-- Sidebar navigation (hidden by default) -->
<aside id="sidebar-nav" class="sidebar-nav">
  <div class="logo"><a href="index.html">PureRules</a></div>
  <nav class="nav">
    <ul class="nav-list">
      <li><a href="index.html">Home</a></li>
      <li><a href="https://github.com/sneakytowelsuit/PureRules" target="_blank">GitHub</a></li>
      <li class="dropdown">
        <button class="dropbtn">engine</button>
        <ul class="dropdown-content">
          <li><a href="#" class="class-link" data-class="Rule">Rule</a></li>
          <li><a href="#" class="class-link" data-class="RuleGroup">RuleGroup</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <button class="dropbtn">operators</button>
        <ul class="dropdown-content">
          <li><a href="#" class="class-link" data-class="EqualsOperator">EqualsOperator</a></li>
          <li><a href="#" class="class-link" data-class="GreaterThanOperator">GreaterThanOperator</a></li>
          <li><a href="#" class="class-link" data-class="LessThanOperator">LessThanOperator</a></li>
          <li><a href="#" class="class-link" data-class="NotEqualsOperator">NotEqualsOperator</a></li>
          <li><a href="#" class="class-link" data-class="StringContainsCaseInsensitiveOperator">StringContainsCaseInsensitiveOperator</a></li>
          <li><a href="#" class="class-link" data-class="StringEndsWithOperator">StringEndsWithOperator</a></li>
          <li><a href="#" class="class-link" data-class="StringEqualsIgnoreCaseOperator">StringEqualsIgnoreCaseOperator</a></li>
          <li><a href="#" class="class-link" data-class="StringStartsWithOperator">StringStartsWithOperator</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <button class="dropbtn">serialization</button>
        <ul class="dropdown-content">
          <li><a href="#" class="class-link" data-class="RuleGroupSerde">RuleGroupSerde</a></li>
          <li><a href="#" class="class-link" data-class="RuleGroupSerializer">RuleGroupSerializer</a></li>
          <li><a href="#" class="class-link" data-class="RuleSerializer">RuleSerializer</a></li>
        </ul>
      </li>
    </ul>
  </nav>
</aside>

<script src="docs.js"></script>
<script>
// Modular nav include
fetch('nav.html').then(r => r.text()).then(html => {
  document.getElementById('nav-include').innerHTML = html;
  // Show code sample area when a class is selected
  document.querySelectorAll('.class-link').forEach(link => {
    link.addEventListener('click', function () {
      document.getElementById('class-sample-container').style.display = 'block';
      window.scrollTo({top: document.getElementById('class-sample-container').offsetTop - 40, behavior: 'smooth'});
    });
  });
});
</script>
</body>
</html>
