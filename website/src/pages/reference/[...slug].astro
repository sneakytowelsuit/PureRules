---
import DocsLayout from '../../layouts/DocsLayout.astro';
import { getCollection } from 'astro:content';
const all = await getCollection('reference');
const bySlug = new Map(all.map(p => [p.slug, p]));
const slugArr = Astro.params.slug;
const slug = Array.isArray(slugArr) ? slugArr.join('/') : slugArr ?? '';
const entry = bySlug.get(slug) ?? all[0];
if (!entry) throw new Error('No reference entry found');
const { Content } = await entry.render();
---
<DocsLayout title={entry.data.title}>
  <Content />
</DocsLayout>
